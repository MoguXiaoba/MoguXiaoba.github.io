{"version":3,"file":"js/register.f4fceccb.js","mappings":"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","sources":["webpack://stellar-club/./src/register/register.js"],"sourcesContent":["// 引入公共样式文件 - 使用相对路径\r\nimport './../utils/css/base.css';\r\nimport './../utils/css/commom.css';\r\n// 引入页面css\r\nimport './register.css';\r\n// 引入公共JS\r\nimport './../utils/js/commom.js';\r\n\r\nconsole.log('register.js 加载成功!!!');\r\n\r\n// 将验证函数移到最外层\r\nfunction verifyName() {\r\n  const userName = document.querySelector('[name=username]');\r\n  const span = userName?.nextElementSibling;\r\n\r\n  if (!userName || !userName.value) {\r\n    console.log('用户名输入框未找到或为空');\r\n    return false;\r\n  }\r\n\r\n  const reg = /^[a-zA-Z0-9-_]{6,10}$/;\r\n  const isValid = reg.test(userName.value);\r\n\r\n  console.log(`用户名验证: \"${userName.value}\" -> ${isValid ? '通过' : '失败'}`);\r\n\r\n  if (span) {\r\n    span.innerHTML = isValid ? '' : '输入不正确！';\r\n  }\r\n\r\n  return isValid;\r\n}\r\n\r\nfunction verifyPhone() {\r\n  const phone = document.querySelector('[name=phone]');\r\n  const span = phone?.nextElementSibling;\r\n\r\n  if (!phone || !phone.value) {\r\n    console.log('手机号输入框未找到或为空');\r\n    return false;\r\n  }\r\n\r\n  const reg = /^1(3\\d|4[5-9]|5[0-35-9]|6[567]|7[0-8]|8\\d|9[0-35-9])\\d{8}$/;\r\n  const isValid = reg.test(phone.value);\r\n\r\n  console.log(`手机号验证: \"${phone.value}\" -> ${isValid ? '通过' : '失败'}`);\r\n\r\n  if (span) {\r\n    span.innerHTML = isValid ? '' : '输入不正确！';\r\n  }\r\n\r\n  return isValid;\r\n}\r\n\r\nfunction verifyCode() {\r\n  const code = document.querySelector('[name=code]');\r\n  const span = code?.nextElementSibling;\r\n\r\n  if (!code || !code.value) {\r\n    console.log('验证码输入框未找到或为空');\r\n    return false;\r\n  }\r\n\r\n  const reg = /^\\d{6}$/;\r\n  const isValid = reg.test(code.value);\r\n\r\n  console.log(`验证码验证: \"${code.value}\" -> ${isValid ? '通过' : '失败'}`);\r\n\r\n  if (span) {\r\n    span.innerHTML = isValid ? '' : '输入不正确！';\r\n  }\r\n\r\n  return isValid;\r\n}\r\n\r\nfunction verifyPsw() {\r\n  const psw = document.querySelector('[name=password]');\r\n  const span = psw?.nextElementSibling;\r\n\r\n  if (!psw || !psw.value) {\r\n    console.log('密码输入框未找到或为空');\r\n    return false;\r\n  }\r\n\r\n  const reg = /^[a-zA-Z0-9-_]{6,20}$/;\r\n  const isValid = reg.test(psw.value);\r\n\r\n  console.log(`密码验证: \"${'*'.repeat(psw.value.length)}\" -> ${isValid ? '通过' : '失败'}`);\r\n\r\n  if (span) {\r\n    span.innerHTML = isValid ? '' : '输入不正确！';\r\n  }\r\n\r\n  return isValid;\r\n}\r\n\r\nfunction verifyConfirm() {\r\n  const confirm = document.querySelector('[name=confirm]');\r\n  const psw = document.querySelector('[name=password]');\r\n  const span = confirm?.nextElementSibling;\r\n\r\n  if (!confirm || !confirm.value || !psw) {\r\n    console.log('确认密码输入框未找到或为空');\r\n    return false;\r\n  }\r\n\r\n  const isValid = confirm.value === psw.value;\r\n\r\n  console.log(`确认密码验证: \"${confirm.value}\" === \"${psw.value}\" -> ${isValid ? '通过' : '失败'}`);\r\n\r\n  if (span) {\r\n    span.innerHTML = isValid ? '' : '两次密码不一致！';\r\n  }\r\n\r\n  return isValid;\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n  console.log('注册页DOM初始化开始');\r\n\r\n\r\n  // 检查导航链接 - 修正选择器\r\n  console.log('检查导航链接:');\r\n\r\n  const navSelectors = {\r\n    'qingxiandenglu': '.qingxiandenglu',\r\n    'mianfeizhuce': '.mianfeizhuce',\r\n    'denglu': '.denglu'\r\n  };\r\n\r\n  for (const [name, selector] of Object.entries(navSelectors)) {\r\n    const element = document.querySelector(selector);\r\n    console.log(`  ${name} (${selector}):`, element ? '找到' : '未找到');\r\n\r\n    if (element) {\r\n      element.addEventListener('click', function (e) {\r\n        e.preventDefault();\r\n        console.log(`点击 ${name}，跳转到登录页`);\r\n        window.location.href = 'login.html';\r\n      });\r\n    }\r\n  }\r\n\r\n  // 发送短信验证码业务\r\n  const yzCode = document.querySelector('.code');\r\n  if (yzCode) {\r\n    console.log('找到验证码按钮');\r\n\r\n    let flag = true;\r\n    yzCode.addEventListener('click', function () {\r\n      if (flag) {\r\n        flag = false;\r\n        let i = 5;\r\n        yzCode.innerHTML = `0${i}秒后重新获取`;\r\n\r\n        let timerId = setInterval(function () {\r\n          i--;\r\n          yzCode.innerHTML = `0${i}秒后重新获取`;\r\n\r\n          if (i === 0) {\r\n            clearInterval(timerId);\r\n            yzCode.innerHTML = `重新获取`;\r\n            flag = true;\r\n            console.log('验证码可以重新获取');\r\n          }\r\n        }, 1000);\r\n\r\n        console.log('验证码发送功能启动');\r\n      }\r\n    });\r\n  } else {\r\n    console.error('未找到验证码按钮');\r\n  }\r\n\r\n  // 表单验证初始化\r\n  const userName = document.querySelector('[name=username]');\r\n  const phone = document.querySelector('[name=phone]');\r\n  const code = document.querySelector('[name=code]');\r\n  const psw = document.querySelector('[name=password]');\r\n  const confirm = document.querySelector('[name=confirm]');\r\n\r\n  if (userName) {\r\n    userName.addEventListener('change', verifyName);\r\n    console.log('用户名验证初始化完成');\r\n  }\r\n\r\n  if (phone) {\r\n    phone.addEventListener('change', verifyPhone);\r\n    console.log('手机号验证初始化完成');\r\n  }\r\n\r\n  if (code) {\r\n    code.addEventListener('change', verifyCode);\r\n    console.log('验证码验证初始化完成');\r\n  }\r\n\r\n  if (psw) {\r\n    psw.addEventListener('change', verifyPsw);\r\n    console.log('密码验证初始化完成');\r\n  }\r\n\r\n  if (confirm) {\r\n    confirm.addEventListener('change', verifyConfirm);\r\n    console.log('确认密码验证初始化完成');\r\n  }\r\n\r\n  // 勾选同意业务\r\n  const agree = document.querySelector('.icon-queren');\r\n  if (agree) {\r\n    agree.addEventListener('click', function () {\r\n      console.log('同意条款状态切换');\r\n      this.classList.toggle('icon-queren2');\r\n      // 添加视觉反馈\r\n      this.style.color = this.classList.contains('icon-queren2') ? 'green' : '';\r\n    });\r\n    console.log('同意条款初始化完成');\r\n  } else {\r\n    console.error('未找到同意条款元素');\r\n  }\r\n\r\n  // 表单提交业务\r\n  const form = document.querySelector('form');\r\n  if (form) {\r\n    form.addEventListener('submit', function (e) {\r\n      e.preventDefault();\r\n      console.log('表单提交事件触发');\r\n\r\n      const nameValid = verifyName();\r\n      const phoneValid = verifyPhone();\r\n      const codeValid = verifyCode();\r\n      const pswValid = verifyPsw();\r\n      const confirmValid = verifyConfirm();\r\n      const agreeChecked = agree ? agree.classList.contains('icon-queren2') : false;\r\n\r\n      console.log('验证结果:', {\r\n        用户名: nameValid ? '✅' : '❌',\r\n        手机号: phoneValid ? '✅' : '❌',\r\n        验证码: codeValid ? '✅' : '❌',\r\n        密码: pswValid ? '✅' : '❌',\r\n        确认密码: confirmValid ? '✅' : '❌',\r\n        同意条款: agreeChecked ? '✅' : '❌'\r\n      });\r\n\r\n      if (nameValid && phoneValid && codeValid && pswValid && confirmValid && agreeChecked) {\r\n        console.log('所有验证通过！');\r\n        localStorage.setItem('JiName', userName.value);\r\n        alert('注册成功！');\r\n        window.location.href = 'index.html';\r\n      } else {\r\n        console.log('验证失败，阻止提交');\r\n        alert('请检查表单填写是否正确！');\r\n      }\r\n    });\r\n    console.log('表单提交初始化完成');\r\n\r\n    // 表单清空\r\n    form.reset();\r\n  } else {\r\n    console.error('未找到表单元素');\r\n  }\r\n\r\n  console.log('register.js 所有功能初始化完成');\r\n});"],"names":["verifyName","userName","document","querySelector","span","nextElementSibling","value","console","log","isValid","test","innerHTML","verifyPhone","phone","verifyCode","code","verifyPsw","psw","repeat","length","verifyConfirm","confirm","addEventListener","navSelectors","name","selector","Object","entries","element","e","preventDefault","window","location","href","yzCode","flag","i","timerId","setInterval","clearInterval","error","agree","this","classList","toggle","style","color","contains","form","nameValid","phoneValid","codeValid","pswValid","confirmValid","agreeChecked","localStorage","setItem","alert","reset"],"ignoreList":[],"sourceRoot":""}